(function(t){function e(e){for(var s,o,l=e[0],r=e[1],c=e[2],u=0,p=[];u<l.length;u++)o=l[u],Object.prototype.hasOwnProperty.call(i,o)&&i[o]&&p.push(i[o][0]),i[o]=0;for(s in r)Object.prototype.hasOwnProperty.call(r,s)&&(t[s]=r[s]);d&&d(e);while(p.length)p.shift()();return n.push.apply(n,c||[]),a()}function a(){for(var t,e=0;e<n.length;e++){for(var a=n[e],s=!0,l=1;l<a.length;l++){var r=a[l];0!==i[r]&&(s=!1)}s&&(n.splice(e--,1),t=o(o.s=a[0]))}return t}var s={},i={app:0},n=[];function o(e){if(s[e])return s[e].exports;var a=s[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=t,o.c=s,o.d=function(t,e,a){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var s in t)o.d(a,s,function(e){return t[e]}.bind(null,s));return a},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var l=window["webpackJsonp"]=window["webpackJsonp"]||[],r=l.push.bind(l);l.push=e,l=l.slice();for(var c=0;c<l.length;c++)e(l[c]);var d=r;n.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},"034f":function(t,e,a){"use strict";a("85ec")},"56d7":function(t,e,a){"use strict";a.r(e);a("e260"),a("e6cf"),a("cca6"),a("a79d");var s,i,n,o,l=a("2b0e"),r=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"app"}},[s("img",{staticClass:"logo",attrs:{alt:"Vue logo",src:a("cf05")}}),s("div",{staticClass:"w-75 m-auto d-flex justify-content-between"},[s("searchlist"),s("addlist")],1),s("todolist")],1)},c=[],d=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"w-75 m-auto"},[s("select",{directives:[{name:"model",rawName:"v-model",value:t.psize,expression:"psize"}],staticClass:"form-select mb-1 d-flex align-items-center",attrs:{"aria-label":".form-select-lg example"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.psize=e.target.multiple?a:a[0]}}},[s("option",{attrs:{value:"5",selected:""}},[t._v("每頁5筆")]),s("option",{attrs:{value:"10"}},[t._v("每頁10筆")]),s("option",{attrs:{value:"25"}},[t._v("每頁25筆")]),s("option",{attrs:{value:"50"}},[t._v("每頁50筆")])]),s("div",{staticClass:"modal fade",attrs:{id:"staticBackdrop","data-bs-backdrop":"static","data-bs-keyboard":"false",tabindex:"-1","aria-labelledby":"staticBackdropLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"staticBackdropLabel"}},[t._v(" Edit Id:"+t._s(t.id)+" ")]),s("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})]),s("div",{staticClass:"modal-body"},[s("div",{staticClass:"input-group mb-3 w-75 container"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.newtask,expression:"newtask"}],staticClass:"form-control",attrs:{type:"text",placeholder:"TASK","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.newtask},on:{input:function(e){e.target.composing||(t.newtask=e.target.value)}}}),s("input",{directives:[{name:"model",rawName:"v-model",value:t.newassignee,expression:"newassignee"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ASSIGNEE","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.newassignee},on:{input:function(e){e.target.composing||(t.newassignee=e.target.value)}}})])]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.edit}},[t._v(" confirm ")])])])])]),s("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1","aria-labelledby":"exampleModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog modal-dialog-centered"},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[t._v("Are you sure to delete ID:"+t._s(t.id)+"?")]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.del}},[t._v(" confirm ")])])])])]),s("table",{staticClass:"table table-striped"},[t._m(1),s("tbody",t._l(t.list,(function(e){return s("tr",{key:e.id},[s("th",{staticClass:"p-2",attrs:{scope:"row"}},[s("img",{staticClass:"edit",attrs:{src:a("aa93"),alt:"edit","data-bs-toggle":"modal","data-bs-target":"#staticBackdrop"},on:{click:function(a){return t.editinfo(e)}}})]),s("th",{staticClass:"p-2",attrs:{scope:"row"}},[t._v(t._s(e.id))]),s("td",{staticClass:"p-2"},[t._v(t._s(e.created_at))]),s("td",{staticClass:"p-2"},[t._v(t._s(e.updated_at))]),s("td",{staticClass:"p-2"},[t._v(t._s(e.task))]),s("td",{staticClass:"p-2"},[t._v(t._s(e.assignee))]),s("th",{staticClass:"p-2",attrs:{scope:"row"}},[s("img",{staticClass:"edit",attrs:{src:a("c8e4"),alt:"edit","data-bs-toggle":"modal","data-bs-target":"#myModal"},on:{click:function(a){return t.delinfo(e)}}})])])})),0)]),s("div",{staticClass:"btn-toolbar d-flex justify-content-end",attrs:{role:"toolbar","aria-label":"Toolbar with button groups"}},[s("div",{staticClass:"btn-group btn-group-mg mr-2 m-2",attrs:{role:"group","aria-label":"Second group"}},[s("h5",{staticClass:"font-weight-light h-100 w-100 d-flex align-items-center"},[t._v(" 總共"+t._s(t.num)+"筆，"+t._s(t.totalPage)+"頁 ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.first}},[t._v(" First ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.previouspage}},[t._v(" < ")]),s("div",{staticClass:"switchtext text-white h-100 bg-secondary"},[t._v(t._s(t.pno))]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.nextpage}},[t._v(" > ")]),s("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.last}},[t._v(" Last ")])])])])},u=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Delete data")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("thead",{staticClass:"table-primary text-muted text-capitalize"},[a("tr",[a("th",{attrs:{scope:"col"}},[t._v("edit")]),a("th",{attrs:{scope:"col"}},[t._v("id")]),a("th",{attrs:{scope:"col"}},[t._v("created_at")]),a("th",{attrs:{scope:"col"}},[t._v("updated_at")]),a("th",{attrs:{scope:"col"}},[t._v("task")]),a("th",{attrs:{scope:"col"}},[t._v("assignee")]),a("th",{attrs:{scope:"col"}},[t._v("delete")])])])}],p=a("8785"),m=a("aad4"),b=Object(m["a"])(s||(s=Object(p["a"])(["\n  mutation editlist($id: Int!, $task: String!, $assignee: String!) {\n    update_todo_list_by_pk(\n      pk_columns: { id: $id }\n      _set: { task: $task, assignee: $assignee }\n    ) {\n      id\n      task\n      assignee\n    }\n  }\n"]))),h=Object(m["a"])(i||(i=Object(p["a"])(["\n  mutation dellist($id: Int!) {\n    delete_todo_list_by_pk(id: $id) {\n      id\n    }\n  }\n"]))),v={name:"todolist",data:function(){return{list:[],id:"",newtask:"",newassignee:"",pno:1,psize:5,currentPage:1,totalPage:0,num:0}},apollo:{clients:{query:function(){return Object(m["a"])(n||(n=Object(p["a"])(["\n          query MyQuery {\n            todo_list(order_by: { updated_at: desc }) {\n              id\n              created_at\n              updated_at\n              task\n              assignee\n            }\n          }\n        "])))},update:function(t){this.list=t.todo_list,this.$store.commit("setlist",this.list)}}},updated:function(){this.num=this.list.length,this.num/this.psize>parseInt(this.num/this.psize)?this.totalPage=parseInt(this.num/this.psize)+1:this.totalPage=parseInt(this.num/this.psize),this.currentPage=this.pno;var t=(this.currentPage-1)*this.psize+1,e=this.currentPage*this.psize;e=e>this.num?this.num:e;for(var a=1;a<this.num+1;a++)a>=t&&a<=e?$(".table tbody tr:nth-child("+a+")").css({display:"table-row"}):$(".table tbody tr:nth-child("+a+")").css({display:"none"})},methods:{editinfo:function(t){this.id=t.id,this.newtask=t.task,this.newassignee=t.assignee},delinfo:function(t){this.id=t.id},edit:function(){this.$apollo.mutate({mutation:b,variables:{id:this.id,task:this.newtask,assignee:this.newassignee},refetchQueries:["list"]}),location.reload()},del:function(){this.$apollo.mutate({mutation:h,variables:{id:this.id},refetchQueries:["list"]}),location.reload()},nextpage:function(){this.currentPage=this.pno;var t=this.currentPage*this.psize;t=t>this.num?this.num:t,this.currentPage<this.totalPage&&(this.pno+=1)},previouspage:function(){this.currentPage=this.pno;var t=this.currentPage*this.psize;t=t>this.num?this.num:t,this.currentPage>1?this.pno-=1:1==this.currentPage&&(this.pno=1)},first:function(){this.pno=1},last:function(){this.pno=this.totalPage}},computed:{alllist:function(){return this.$store.state.alllist}},watch:{alllist:function(){this.list=this.alllist,this.pno=1}}},f=v,g=(a("b14c"),a("2877")),_=Object(g["a"])(f,d,u,!1,null,null,null),y=_.exports,C=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("button",{staticClass:"btn btn-primary float-right m-3",attrs:{type:"button","data-bs-toggle":"modal","data-bs-target":"#example"}},[t._v(" Add List ")]),a("div",{staticClass:"modal fade",attrs:{id:"example",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalCenterTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog modal-dialog-centered"},[a("div",{staticClass:"modal-content"},[t._m(0),a("div",{staticClass:"modal-body"},[t._v(" . "),a("div",{staticClass:"input-group mb-3 w-75 container"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.task,expression:"task"}],staticClass:"form-control",attrs:{type:"text",placeholder:"TASK","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.task},on:{input:function(e){e.target.composing||(t.task=e.target.value)}}}),a("input",{directives:[{name:"model",rawName:"v-model",value:t.assignee,expression:"assignee"}],staticClass:"form-control",attrs:{type:"text",placeholder:"ASSIGNEE","aria-label":"Recipient's username","aria-describedby":"basic-addon2"},domProps:{value:t.assignee},on:{input:function(e){e.target.composing||(t.assignee=e.target.value)}}})])]),a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-bs-dismiss":"modal"}},[t._v(" Close ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.add}},[t._v(" confirm ")])])])])])])},w=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLabel"}},[t._v("Add list")]),a("button",{staticClass:"btn-close",attrs:{type:"button","data-bs-dismiss":"modal","aria-label":"Close"}})])}],k=Object(m["a"])(o||(o=Object(p["a"])(["\n  mutation addlist($task: String!, $assignee: String!) {\n    insert_todo_list(objects: [{ task: $task, assignee: $assignee }]) {\n      returning {\n        id\n      }\n    }\n  }\n"]))),x={name:"addlist",data:function(){return{task:"",assignee:""}},methods:{add:function(){var t=this.$data,e=t.task,a=t.assignee;this.$apollo.mutate({mutation:k,variables:{task:e,assignee:a},refetchQueries:["list"]}),this.task="",this.assignee="",location.reload()}}},P=x,O=Object(g["a"])(P,C,w,!1,null,null,null),j=O.exports,S=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row row-cols-lg-auto g-3 align-items-center"},[a("div",{staticClass:"col-12"},[a("label",{staticClass:"visually-hidden",attrs:{for:"inlineFormInputGroupUsername"}},[t._v("Keyword")]),a("div",{staticClass:"input-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.searchval,expression:"searchval"}],staticClass:"form-control",attrs:{type:"text",id:"inlineFormInputGroupUsername",placeholder:"Keyword"},domProps:{value:t.searchval},on:{input:function(e){e.target.composing||(t.searchval=e.target.value)}}})])]),a("div",[a("select",{directives:[{name:"model",rawName:"v-model",value:t.searchcolum,expression:"searchcolum"}],staticClass:"form-select",attrs:{id:"inlineFormSelectPref"},on:{change:function(e){var a=Array.prototype.filter.call(e.target.options,(function(t){return t.selected})).map((function(t){var e="_value"in t?t._value:t.value;return e}));t.searchcolum=e.target.multiple?a:a[0]}}},[a("option",{attrs:{value:"All"}},[t._v("All")]),a("option",{attrs:{value:"Id"}},[t._v("Id")]),a("option",{attrs:{value:"Task"}},[t._v("Task")]),a("option",{attrs:{value:"Assignee"}},[t._v("Assignee")])])]),a("div",[a("button",{staticClass:"btn btn-info",attrs:{type:"submit"},on:{click:t.search}},[t._v("Search")])]),a("div",[a("button",{staticClass:"btn btn-secondary",attrs:{type:"submit"},on:{click:t.reset}},[t._v(" reset ")])])])},A=[],E=(a("4de4"),a("d3b7"),a("b64b"),a("159b"),{name:"searchlist",data:function(){return{searchcolum:"All",task:"",assignee:"",searchval:""}},methods:{search:function(){var t=this.searchval,e=[];"All"==this.searchcolum?this.$store.state.alllist=this.$store.state.alllist.filter((function(e){return Object.keys(e).some((function(a){return-1!=String(e[a]).indexOf(t)}))})):"Id"==this.searchcolum?(this.$store.state.alllist.forEach((function(a){-1!=String(a.id).indexOf(t)&&e.push(a)})),this.$store.state.alllist=e):"Task"==this.searchcolum?(this.$store.state.alllist.forEach((function(a){-1!=String(a.task).indexOf(t)&&e.push(a)})),this.$store.state.alllist=e):"Assignee"==this.searchcolum&&(this.$store.state.alllist.forEach((function(a){-1!=String(a.assignee).indexOf(t)&&e.push(a)})),this.$store.state.alllist=e),this.$store.commit("setlist",this.alllist)},reset:function(){this.searchval="",location.reload()}},computed:{alllist:function(){return this.$store.state.alllist}}}),I=E,z=Object(g["a"])(I,S,A,!1,null,null,null),T=z.exports,M={name:"App",components:{todolist:y,searchlist:T,addlist:j}},N=M,L=(a("034f"),Object(g["a"])(N,r,c,!1,null,null,null)),Q=L.exports,B=(a("abac"),a("5b9e"),a("1157")),F=a.n(B),G=a("a6f7"),K=a("33fc"),R=a("82bd"),q=a("1a21"),D=a("2f62");l["a"].use(D["a"]);var J=new D["a"].Store({state:{alllist:""},mutations:{setlist:function(t,e){t.alllist=e}},actions:{},modules:{}});window.$=window.jQuery=F.a,l["a"].config.productionTip=!1;var U=new K["a"]({uri:"http://35.189.161.175:8080/v1/graphql",headers:{"x-hasura-admin-secret":"myadminsecretkey"}}),V=new G["a"]({link:U,cache:new R["a"],connectToDevTools:!0});l["a"].use(q["a"]);var H=new q["a"]({defaultClient:V});new l["a"]({apolloProvider:H,store:J,render:function(t){return t(Q)}}).$mount("#app")},"85ec":function(t,e,a){},"8b25":function(t,e,a){},aa93:function(t,e,a){t.exports=a.p+"img/edit.ca7bd077.png"},b14c:function(t,e,a){"use strict";a("8b25")},c8e4:function(t,e,a){t.exports=a.p+"img/trash.86f644ca.png"},cf05:function(t,e,a){t.exports=a.p+"img/logo.82b9c7a5.png"}});
//# sourceMappingURL=app.37845a59.js.map